{"version":3,"file":"main.test.js","sourceRoot":"/","sources":["main.test.ts"],"names":[],"mappings":";;;AAAA,iCAAyC;AAEzC,MAAM,0BAA0B,GAAG,kBAAkB,CAAC;AACtD,MAAM,4BAA4B,GAAG,eAAe,CAAC;AAErD,IAAI,MAAuB,CAAC;AAE5B,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;IAC/B,UAAU,CAAC,GAAG,EAAE;QACd,MAAM,GAAG,IAAI,sBAAe,CAAC;YAC3B,SAAS,EAAE,4BAA4B;YACvC,QAAQ,EAAE,0BAA0B;SACrC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE;QACnB,EAAE,CAAC,kDAAkD,EAAE,GAAS,EAAE;YAChE,MAAM,SAAS,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;YAC5B,MAAM,KAAK,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;YACxB,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;YAC/B,MAAM,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YAC5B,MAAM,CAAC,SAAS,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;YAC3C,MAAM,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACzC,CAAC,CAAA,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { GoogleAnalytics } from './main';\n\nconst GOOGLE_ANALYTICS_CLIENT_ID = 'local-dev-client';\nconst GOOGLE_ANALYTICS_TRACKING_ID = 'UA-36997921-1';\n\nlet logger: GoogleAnalytics;\n\ndescribe('GoogleAnalytics', () => {\n  beforeEach(() => {\n    logger = new GoogleAnalytics({\n      accountID: GOOGLE_ANALYTICS_TRACKING_ID,\n      clientID: GOOGLE_ANALYTICS_CLIENT_ID,\n    });\n  });\n\n  describe('log', () => {\n    it('emits finished when no meta args are encountered', async () => {\n      const onErrorCb = jest.fn(); \n      const logCb = jest.fn();\n      logger.on('finish', onErrorCb);\n      await logger.log({}, logCb);\n      expect(onErrorCb).toHaveBeenCalledTimes(1);\n      expect(logCb).toHaveBeenCalledTimes(1);\n    });\n  });\n});\n"]}